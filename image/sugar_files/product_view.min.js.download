var domain_url=window.location.origin+"/";function create_UUID(){var dt=(new Date).getTime(),uuid;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=(dt+16*Math.random())%16|0;return dt=Math.floor(dt/16),("x"==c?r:3&r|8).toString(16)}))}function getAddonTotal(){var total_amount=parseInt(0);$(".ext_warranty_sku:checked").length>0&&(total_amount+=parseFloat($(".ext_warranty_sku:checked").attr("data-price"))),$(".add_on_sku:checked").each((function(){total_amount+=parseFloat($(this).attr("data-price"))})),total_amount=total_amount.toFixed(2),$("#add_on_total_amount").html("&#8377;"+total_amount)}function callWishlistApi(action){$("#wishlist_btn").prop("disabled",!0);var userid=localStorage.getItem("userid"),authtoken=localStorage.getItem("authtoken"),sku=parseInt($("#product_id").val()),pin=localStorage.getItem("nms_mgo_pincode"),ajax_data={action:action,pin:pin,source:"web"};"Add"!=action&&"Remove"!=action||(ajax_data.productCode=sku),$.ajax({url:$("#wishlist_api_url").val(),method:"POST",crossDomain:!0,headers:{authtoken:authtoken,userid:userid},data:ajax_data,dataType:"JSON",success:function(resp){if($("#wishlist_btn").prop("disabled",!1),"success"==resp.status){if(resp.result.productList&&resp.result.productList.length>0){var result=resp.result.productList,wishlist_sku=[];for(i=0;i<result.length;i++)wishlist_sku.push(result[i].skuCode);localStorage.setItem("jio_wishlist_sku",wishlist_sku),-1!==wishlist_sku.indexOf(sku)?($("#wishlist_btn").addClass("wishlist_active"),$("#wishlist_btn").attr("data-action","Remove")):($("#wishlist_btn").removeClass("wishlist_active"),$("#wishlist_btn").attr("data-action","Add"))}else $("#wishlist_btn").removeClass("wishlist_active"),$("#wishlist_btn").attr("data-action","Add");"Add"==action&&notify("Product added to Wishlist successfully","success"),"Remove"==action&&notify("Product removed from Wishlist successfully","success")}else"Fetch"!=action&&notify("Error occurred. Try again later!","error")},error:function(){$("#wishlist_btn").prop("disabled",!1),"Fetch"!=action&&notify("Error occurred. Try again later!","error")}})}function get_recommendations(){var vertical_code=$("#vertical_code").val(),alg_similar_status=$("#alg_similar_status").val(),alg_bought_status=$("#alg_bought_status").val();if("1"==alg_similar_status||"1"==alg_bought_status){var sku=$("#product_id").val(),master_code,store_code=JSON.parse(localStorage.getItem("jio_vertical_city_code"))[vertical_code],alg_similar_sku=$("#alg_similar_sku").val(),alg_bought_sku=$("#alg_bought_sku").val(),pincode=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(pincode=localStorage.getItem("nms_mgo_pincode"));var option_code="";""!=alg_similar_sku||""!=alg_bought_sku?$.ajax({url:"/catalog/recommendations/get/"+sku,method:"GET",headers:{similar:alg_similar_sku,bought:alg_bought_sku,"store-code":store_code,pin:pincode,"vertical-code":vertical_code,"option-code":""},dataType:"JSON",success:function(resp){resp.similar&&resp.similar.length>0?bind_recommended_products_html("#algolia_similar","similar",resp.similar,store_code,vertical_code):$("#algolia_similar_sec").remove(),resp.bought&&resp.bought.length>0?bind_recommended_products_html("#algolia_bought","bought",resp.bought,store_code,vertical_code):$("#algolia_bought_sec").remove()},error:function(){}}):($("#algolia_similar_sec").remove(),$("#algolia_bought_sec").remove())}}function bind_recommended_products_html(parent,types,products,store_code,vertical_code){var html="";if("GROCERIES"==vertical_code||"ELECTRONICS"==vertical_code)var swiper_class="cus-view-swiper",extra_class="",next_elem="swiper-cus-view-swiper-next",prev_elem="swiper-cus-view-swiper-prev";else if($(parent).closest(".cus-view-product").removeClass().addClass("new_arrival_section"),"similar"==types)var swiper_class="similar_products_swiper",extra_class="products_swipe",next_elem="similar-swiper-button-next",prev_elem="similar-swiper-button-prev";else var swiper_class="bought_together_swiper",extra_class="products_swipe",next_elem="freq-swiper-button-next",prev_elem="freq-swiper-button-prev";for(html+=`<div class="swiper-container ${swiper_class} ${extra_class}"> <div class="swiper-wrapper">`,i=0;i<products.length;i++){var product=products[i];"GROCERIES"==vertical_code||"ELECTRONICS"==vertical_code?("ELECTRONICS"==vertical_code&&(product.in_stock=0),html+=get_groceries_html(product,store_code)):html+=get_other_vertical_html(product,store_code)}if(html+="</div></div>",html+=`<div class="swiper-button-next ${next_elem}"></div><div class="swiper-button-prev ${prev_elem}"></div>`,$(parent).html(html),$(parent+"_sec").show(),"GROCERIES"==vertical_code||"ELECTRONICS"==vertical_code){var i=$("."+swiper_class).length;$(parent).find("."+swiper_class).addClass("prod-swipe-"+i),$(parent).find("."+next_elem).addClass("prod-right-"+i),$(parent).find("."+prev_elem).addClass("prod-left-"+i);var swiper=new Swiper(".prod-swipe-"+i,{slidesPerView:"auto",spaceBetween:0,navigation:{nextEl:".prod-right-"+i,prevEl:".prod-left-"+i}})}else var swiper=new Swiper("."+swiper_class,{slidesPerView:"auto",spaceBetween:0,navigation:{nextEl:"."+next_elem,prevEl:"."+prev_elem}});applyPlusMinusButton()}function get_groceries_html(product,store_code){var html="",discount_pct=product.discount_pct,selling_price=product.selling_price,mrp=product.mrp,save=0;if(product.store_wise_mrp[store_code]){var store_wise_mrp=product.store_wise_mrp[store_code];discount_pct=store_wise_mrp.discount_pt,selling_price=store_wise_mrp.price.toFixed(2),mrp=store_wise_mrp.mrp.toFixed(2),save=(store_wise_mrp.mrp-store_wise_mrp.price).toFixed(2)}var food_class="";if(product.food_type){var food_type=product.food_type.toLowerCase();"green dot"==food_type?food_class="text-veg":"red dot"==food_type?food_class="text-nonveg":"black cross"==food_type&&(food_class="text-nonedible")}var image_base=window.product_image_path;return image_url=image_base+product.image_url,html+=`<div class="swiper-slide">\n                <div class="viewed-items">\n                   <span class="food_type_sec"><span class="${food_class}"></span></span>\n                   <a href="${product.url_path}" title="${product.display_name}">\n                   <span class="cat_image">\n                       <img src="${image_url}" alt="${product.display_name}">\n                   </span>\n                   <span class="cat_list_name">\n                       ${product.display_name}\n                   </span>\n               </a>\n               <div class="clearfix"></div>`,selling_price>0&&(html+='<div class="price-box">',html+=discount_pct>0?`<span class="final_price">&#8377; ${selling_price}</span>\n                    <span class="price">M.R.P: <strike>&#8377; ${mrp}</strike></span>\n                    `:`M.R.P: <span class="final_price center">&#8377; ${selling_price}</span>`,html+="</div>"),1==product.in_stock&&"A"==product.availability_status&&(html+=`<div class="cart_btn">\n                    <button type="button" title="ADD TO CART" class="toCart addtocartbtn" data-sku="${product.product_code}">\n                        <span class="txt_btn">Add to Cart</span>\n                        <span class="add_plus"></span>\n                    </button>\n                </div>`),html+="</div></div>"}function get_other_vertical_html(product,store_code){var html="",discount_pct=product.discount_pct,selling_price=product.selling_price,mrp=product.mrp,save=0;if(product.store_wise_mrp[store_code]){var store_wise_mrp=product.store_wise_mrp[store_code];discount_pct=store_wise_mrp.discount_pt,selling_price=store_wise_mrp.price.toFixed(2),mrp=store_wise_mrp.mrp.toFixed(2),save=(store_wise_mrp.mrp-store_wise_mrp.price).toFixed(2)}var food_class="";if(product.food_type){var food_type=product.food_type.toLowerCase();"green dot"==food_type?food_class="text-veg":"red dot"==food_type?food_class="text-nonveg":"black cross"==food_type&&(food_class="text-nonedible")}var image_base=window.product_image_path;return image_url=image_base+product.image_url,html+='<div class="swiper-slide">\n                <div class="pro_items">',discount_pct>0&&(html+=` <div class="offer_bade">\n                        <span class="offer_value">${discount_pct}</span>% OFF\n                    </div>`),html+=`<span class="food_type_sec"><span class="${food_class}"></span></span>\n                   <a href="${product.url_path}" title="${product.display_name}">\n                        <span class="cat-img">\n                            <img src="${image_url}" alt="${product.display_name}">\n                        </span>\n                    </a>\n               <div class="clearfix"></div>\n               <div class="pro_detail">\n                    <span class="item_brand">${product.brand}</span>\n                    <div class="clearfix"></div>\n            `,selling_price>0&&(html+='<div class="price_box">',html+=discount_pct>0?`<span class="final_price">&#8377; ${selling_price}</span>\n                        <strike class="price">&#8377; ${mrp}</strike>\n                        <div class="clearfix"></div>\n                        <span class="save_price">Save &#8377; ${save}</span>\n                    `:`<span class="final_price">&#8377; ${selling_price}</span>`,html+="</div>"),html+=`<div class="clsgetname">\n                <a href="${product.url_path}" title="${product.display_name}">\n                    ${product.display_name}\n                </a>\n            </div>\n        </div>`,html+="</div></div>"}function get_product_price(){var sku=$("#product_id").val(),pincode=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(pincode=localStorage.getItem("nms_mgo_pincode")),$.ajax({url:"/catalog/productdetails/get/"+sku,method:"GET",headers:{pin:pincode},dataType:"JSON",success:function(resp){if("success"==resp.status){var mrp=resp.data.mrp.toFixed(2),selling_price=resp.data.selling_price.toFixed(2),save=(resp.data.mrp-resp.data.selling_price).toFixed(2),discount_pct=resp.data.discount_pct;if(discount_pct>0?($("#alg_price").html(`\n                        <span class="final-price"><span>&#8377;  ${selling_price}</span></span>\n                        <span class="price">M.R.P: <strike>&#8377;  ${mrp}</strike></span>\n                        <div class="clearfix"></div>\n                        <span class="disc-price">You Save: <span>&#8377;  ${save}</span></span>\n                        <span class="tax_text">Inclusive of all taxes</span>                    \n                    `),$(".dis_section").length>0?$(".dis_section span").text(discount_pct):$(".gallery-top .swiper-wrapper").after(`<div class="dis_section"> <span>${discount_pct}</span>%<div class="clearfix"></div>OFF </div>`)):$("#alg_price").html(`\n                        <span class="final-price">M.R.P: <span>&#8377; ${selling_price}</span></span>\n                        <span class="tax_text">Inclusive of all taxes</span>                    \n                    `),"A"==resp.data.availability_status){var max_qty=resp.data.max_qty_in_order,stock_qty=resp.data.stock_qty;stock_qty<max_qty&&(max_qty=stock_qty),max_qty<=0&&$(".cart-holder").remove(),$("#is_in_stock").html('<div class="stock_details">In Stock</div>')}else"S"==resp.data.availability_status&&($(".cart-holder").remove(),$("#is_in_stock").html('<div class="os_details">Out of Stock</div>'));if($(".pdp_jio_loading").remove(),$(".product_availability").show(),""!=resp.data.tag_name&&$("#center_col").prepend(`<div class="sponsored"><div class="sponsored_arrow"></div><p>${resp.data.tag_name}</p></div>`),resp.data.variants&&resp.data.variants.length>0){var variants=resp.data.variants,variants_html="",url_obj,selected_size=new URL(window.location).searchParams.get("size"),all_size_disabled=!0;for(i=0;i<variants.length;i++){var variant=variants[i],current="";for(k=0;k<variant.facet_values.length;k++){var value,image_url;if(1==(value=variant.facet_values[k]).current)if("colour"==variant.facet_id)if(value.additional_info&&value.additional_info.swatch_image_url)current+=`<img src="${image_url=window.product_image_path+"images/product/original/"+value.additional_info.swatch_image_url}" />&nbsp;${value.value}`;else current+=value.value;else selected_size!=value.value?current+="Select Size":current+=value.value}for(variants_html+=`\n                        <section class="product_size_section" id="variant_${variant.facet_id}">\n                            <div class="pro_size_container">\n                                <div class="top_section">\n                                    <span class="select-size">${variant.facet_title} : ${current}</span>\n                                </div>\n                                <ul class="sizes-list">`,k=0;k<variant.facet_values.length;k++){var value=variant.facet_values[k],class_name="",inner_html="";if("colour"==variant.facet_id){if(class_name="color-variant",inner_html+=`<a href='${domain_url+value.product_url}'>`,value.additional_info&&value.additional_info.swatch_image_url){class_name="image-variant";var image_url=window.product_image_path+"images/product/original/"+value.additional_info.swatch_image_url;inner_html+=`<div class="vari-image-box ${1==value.current?"selected":""}"><img src="${image_url}" /></div>`}else inner_html+=`<div class="vari-color-box ${1==value.current?"selected":""}" style="background:${value.value}"></div>`;inner_html+="</a>"}else{var selected_class=value.value==selected_size?"selected":"";1==variant.facet_values.length&&(selected_class="selected"),1==value.status&&(all_size_disabled=!1);var prod_url=domain_url+value.product_url+"?size="+value.value;inner_html+=`<button class="size-btn ${selected_class}  ${0==value.status?"disabled":""}" data-prodcode = "${value.product_code}" data-url="${prod_url}">\n                                <span>${value.value}</span>\n                            </button>`}"size"==variant.facet_id&&0==value.status&&(class_name+=" disabled"),variants_html+=`<li class="${class_name}">${inner_html}</li>`}variants_html+="</ul>\n                            </div>\n                        </section>"}1==all_size_disabled&&$(".addtocartbtn").prop("disabled",!0),$("#variant_holder").html(variants_html),$(".sizechart_div #size_chart_btn").length>0&&($("#variant_size .top_section").append($("#size_chart_btn").clone().addClass("active")),$(".sizechart_div #size_chart_btn").remove())}}else $(".cart-holder").remove(),$(".product_availability").html('<div class="pdp_not_available">Product not available at your location.</div>').show(),$(".pdp_jio_loading").remove(),$(".product_holder_extra").remove();$("#pdp-skeleton").remove()},error:function(){$(".cart-holder").remove(),$(".product_availability").html('<div class="pdp_not_available">Product not available at your location.</div>').show(),$(".pdp_jio_loading").remove(),$(".product_holder_extra").remove(),$("#pdp-skeleton").remove()}})}window.onload=function(){$("#pdp-skeleton").remove(),$("body").removeClass("pdp_overflow_hidden")},$(document).ready((function(){if($("#prod_rel_pincode").length>0)if(localStorage.getItem("nms_mgo_pincode"))$("#prod_rel_pincode").val(localStorage.getItem("nms_mgo_pincode"));else{var pincode=window.default_pin;$("#prod_rel_pincode").val(pincode)}get_product_price(),get_recommendations(),$(".nms-star").each((function(){$(this).addClass("star-loaded");var value=$(this).attr("data-star");$(this).starrr({readOnly:!0,rating:value})}));var add_on_status=$("#add_on_status").val();"ELECTRONICS"==vertical_code&&1==add_on_status&&$("#elec_addon_dialog").modal({show:!1}),$(".cus-view-swiper").each((function(i,element){$(this).addClass("prod-swipe-"+i),$(this).parent().find(".swiper-cus-view-swiper-next").addClass("prod-right-"+i),$(this).parent().find(".swiper-cus-view-swiper-prev").addClass("prod-left-"+i);var swiper=new Swiper(".prod-swipe-"+i,{slidesPerView:"auto",spaceBetween:0,navigation:{nextEl:".prod-right-"+i,prevEl:".prod-left-"+i}})}));var galleryThumbs=new Swiper(".gallery-thumbs",{spaceBetween:0,direction:"vertical",slidesPerView:"auto",freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-gallery-thumbs-next",prevEl:".swiper-gallery-thumbs-prev"}}),galleryTop=new Swiper(".gallery-top",{slidesPerView:1,spaceBetween:0,thumbs:{swiper:galleryThumbs}}),swiper=new Swiper(".similar_products_swiper",{slidesPerView:"auto",spaceBetween:0,navigation:{nextEl:".similar-swiper-button-next",prevEl:".similar-swiper-button-prev"}}),swiper=new Swiper(".bought_together_swiper",{slidesPerView:"auto",spaceBetween:0,navigation:{nextEl:".freq-swiper-button-next",prevEl:".freq-swiper-button-prev"}});$(".druginfo_tab").click((function(){if(!$(this).hasClass("active")){$(".druginfo_cont").fadeOut(),$(".druginfo_cont").hide();var dataid=$(this).attr("data-id");if($("#"+dataid).fadeIn(),$("#"+dataid).show(),$(".druginfo_tab").removeClass("active"),$(this).addClass("active"),"np_tab2"==dataid)var druginnerSwipe=new Swiper(".drup-info-swip-inner",{slidesPerView:"auto",spaceBetween:0,freeMode:!0});if("np_tab5"==dataid)var druginnerSwipe=new Swiper(".drup-info-swip-inner2",{slidesPerView:"auto",spaceBetween:0,freeMode:!0});if("np_tab6"==dataid)var druginnerSwipe=new Swiper(".drup-info-swip-inner3",{slidesPerView:"auto",spaceBetween:0,freeMode:!0})}})),$(".subinner-tab").click((function(){if(!$(this).hasClass("active")){var parent_id=$(this).closest(".druginfo_cont").attr("id");$("#"+parent_id+" .subinner-cont").hide();var dataid=$(this).attr("data-id");$("#"+dataid).fadeIn(),$("#"+dataid).show(),$("#"+parent_id+" .subinner-tab").removeClass("active"),$(this).addClass("active")}}));var price=$("#selling_price_val").val(),vertical_code=$("#vertical_code").val();$("#prod_delivery_details").length>0&&$.ajax({url:domain_url+"catalog/review/get_delivery_message",method:"GET",data:{price:price,vertical:vertical_code},dataType:"HTML",success:function(resp){$("#prod_delivery_details").html(resp)},error:function(){}})})),$(document).on("click","#write_review_btn",(function(ev){ev.preventDefault(),$("#rate_review_form").modal("show")})),$("#rate_review_form").on("show.bs.modal",(function(e){if(0!=localStorage.getItem("userid")&&null!=localStorage.getItem("userid"));else{e.preventDefault(),e.stopPropagation();var url,path=(new Url).path;localStorage.setItem("redirectUrl",path),window.location.href="/customer/account/login"}})),$(document).on("click","#rating_holder",(function(){$("html, body").animate({scrollTop:$("#pro_review").offset().top-300},1e3)})),$(".product-cart-form").submit((function(ev){ev.preventDefault(),addToCart($(this),"cartbag")})),$(document).on("click",".star-popup a",(function(){var star=$(".star-popup a").index($(this));star=parseInt(star)+1,$("#star_holder").attr("data-star",star),$("#rate_review_form").modal("show")})),$("#rate_review_form").on("shown.bs.modal",(function(){$("#star_holder").html('<div class="starrr nms-rate rating-stars"></div>');var star=$("#star_holder").attr("data-star");$("#rating_value").val(star),$(".nms-rate").starrr({rating:star,change:function(ev,value){$("#rating_value").val(value),$("#rating_value").valid()}})})),$("#rate_review_form").on("hidden.bs.modal",(function(){$("#rating_value").val(""),$("#star_holder").attr("data-star",""),$("#star_holder").html('<div class="starrr nms-rate rating-stars"></div>'),$("#review_product").trigger("reset"),$("#review_product").data("validator").resetForm(),$("#review_form").show(),$("#review_response_div").text("").hide()})),$.validator.addMethod("required-rating",(function(value){return!!parseInt(value)}),"Please select your rating!"),$.validator.addMethod("required-name",(function(value){return!!value}),"Please enter your Name!"),$.validator.addMethod("required-title",(function(value){return!!value}),"Please enter Title!"),$.validator.addMethod("required-detail",(function(value){return!!value}),"Please enter Detail!"),$("#review_product").validate({ignore:[],submitHandler:function(form){var api_url=$("#mstar_api_baseurl").val();$.ajax({url:api_url+"entity/customer/get_details",method:"GET",data:{},headers:{userid:localStorage.getItem("userid"),authtoken:localStorage.getItem("authtoken")},dataType:"JSON",success:function(resp){resp.status&&"success"==resp.status?($("#review_product").find("#customer_id").val(localStorage.getItem("userid")),$.ajax({url:domain_url+"catalog/review/add",method:"POST",data:$("#review_product").serialize(),dataType:"JSON",success:function(resp){$("#review_form").hide(),$("#review_response_div").text(resp.message).show(),$("#review_product").trigger("reset"),$("#review_product").data("validator").resetForm()},error:function(){$("#review_form").hide(),$("#review_response_div").text("Unable to connect to server").show()}})):($("#review_form").hide(),$("#review_response_div").text("Please login to post your review.").show())},error:function(){$("#review_form").hide(),$("#review_response_div").text("Please login to post your review.").show()}})}}),$("#show_more_review").click((function(){$("#show_more_review").prop("disabled",!0);var sku=$(this).attr("data-sku"),page=$(this).attr("data-page"),limit=$(this).attr("data-limit"),total=$(this).attr("data-total");$.ajax({url:domain_url+"catalog/review/get",data:{sku:sku,page:page,limit:limit},method:"GET",dataType:"HTML",success:function(resp){var loaded_review;if($("#show_more_review").prop("disabled",!1),$("#review_holder").append(resp),$("#review_holder .review-box").length==total)$("#show_more_review").remove();else{var page=$("#show_more_review").attr("data-page");page=parseInt(page)+1,$("#show_more_review").attr("data-page",page)}$(".nms-star").each((function(){if($(this).hasClass("star-loaded"));else{$(this).addClass("star-loaded");var value=$(this).attr("data-star");$(this).starrr({readOnly:!0,rating:value})}}))},error:function(){$("#show_more_review").prop("disabled",!1)}})})),$(document).ready((function(){var first_desc,second_desc,third_desc,fourth_desc,fourth_desc,fourth_desc,eight_desc;$("#first_desc").length>0&&($("#first_desc").height()>100&&($("#first_desc").addClass("less_content"),$("#first_desc").after("<div class='toggle-btn show' data-target='first'>See more</div>")));$("#second_desc").length>0&&($("#second_desc").height()>100&&($("#second_desc").addClass("less_content"),$("#second_desc").after("<div class='toggle-btn show' data-target='second'>See more</div>")));$("#third_desc").length>0&&($("#third_desc").height()>100&&($("#third_desc").addClass("less_content"),$("#third_desc").after("<div class='toggle-btn show' data-target='third'>See more</div>")));$("#fourth_desc").length>0&&((fourth_desc=$("#fourth_desc").height())>100&&($("#fourth_desc").addClass("less_content"),$("#fourth_desc").after("<div class='toggle-btn show' data-target='fourth'>See more</div>")));$("#fifth_desc").length>0&&((fourth_desc=$("#fifth_desc").height())>100&&($("#fifth_desc").addClass("less_content"),$("#fifth_desc").after("<div class='toggle-btn show' data-target='fifth'>See more</div>")));$("#sixth_desc").length>0&&((fourth_desc=$("#sixth_desc").height())>100&&($("#sixth_desc").addClass("less_content"),$("#sixth_desc").after("<div class='toggle-btn show' data-target='sixth'>See more</div>")));$("#eight_desc").length>0&&($("#eight_desc").height()>100&&($("#eight_desc").addClass("less_content"),$("#eight_desc").after("<div class='toggle-btn show' data-target='eight'>See more</div>")))})),$(document).on("click",".toggle-btn.show",(function(){var target=$(this).attr("data-target");$("#"+target+"_desc").removeClass("less_content"),$("#"+target+"_title").after("<div class='toggle-btn hide' data-target='"+target+"'>See less</div>"),$(this).remove()})),$(document).on("click",".toggle-btn.hide",(function(){var target=$(this).attr("data-target");$("#"+target+"_desc").addClass("less_content"),$("#"+target+"_desc").after("<div class='toggle-btn show' data-target='"+target+"'>See more</div>"),$(this).remove()})),$(document).ready((function(){if($("#emi_btn_content").length>0){var vertical_code=$("#vertical_code").val(),emi_status=$("#emi_status").val();if("ELECTRONICS"==vertical_code&&1==emi_status){var alt_sku=$("#alt_sku").val(),price=$("#selling_price_val").val(),myjio=0,url,attr=new Url(window.location.href).query.source_attribution;(attr&&"MyJio-CPS"==attr||"jio"==$.cookie("nms_refer_lite"))&&(myjio=1),$.ajax({url:domain_url+"catalog/emi/plans",method:"GET",data:{alt_sku:alt_sku,price:price,myjio:myjio},dataType:"JSON",success:function(resp){if("success"==resp.status&&(resp.low&&($("#prod_delivery_details").addClass("emi_available"),$("#emi_btn_content").html(`<a href="javascript:void(0)" id="emi_btn">EMI</a> @ &#8377;${resp.low} per month`)),resp.plans)){var plans=resp.plans,plan_html="";for(emi_type in plans){var emi_name=emi_type.replace(/_/g," ");for(bank in plan_html+=`<div class="card_emi">\n                                    <h2>${emi_name}</h2>\n                                    <div class="emi-accordion" id="emi_accord">`,plans[emi_type]){var bank_name=plans[emi_type][bank][0].bank_name,bank_image=plans[emi_type][bank][0].bank_image;for(i in plan_html+=`<div class="card">\n                                    <div class="card-header collapsed" data-toggle="collapse" href="#emi_${emi_type}_${bank}">\n                                        <div class="bank_details">\n                                            <img class="bank_image" src="/assets/global/emi/${bank_image}" />\n                                            <span class="bank_name">${bank_name}</span>\n                                        </div>\n                                    </div>\n                                    <div id="emi_${emi_type}_${bank}" class="card-body collapse" data-parent="#emi_accord">`,plans[emi_type][bank]){var detail=plans[emi_type][bank][i],offer_amt="";detail.offer_amount&&detail.offer_amount>0&&(offer_amt="You save &#8377;"+detail.offer_amount),plan_html+=`<div class="emi_details"><div>\n                                        <span class="amount">&#8377;${detail.emi_amount} for ${detail.tenure} months<br/><span class="save">${offer_amt}</span></span>`,"NO_COST_EMI"==detail.emi_type?plan_html+='<span class="interest">@No Cost</span>':plan_html+=`<span class="interest">@${detail.interest}% p.a</span>`,plan_html+="</div>",detail.cashback&&(plan_html+=`<div class="cashback"><h3>Additional Cashback <br/> <span class="cashback_content">${detail.cashback}</span></h3></div>`),plan_html+="</div>"}plan_html+="</div></div>"}plan_html+="</div></div>"}if($("#emi_dialog_content").html(plan_html),plans.hasOwnProperty("Low_Cost_EMI")||plans.hasOwnProperty("No_Cost_EMI")){$("#emi_plans_dialog .emi_disclaimer").append('\n                                        <span id="emi_disclaim_close">X</span>\n                                        <p><span>Note:</span> No-Cost/Low-Cost EMI or Cashback Schemes can be availed if the eligible products are the ONLY item in your cart. Please purchase additional items in a separate transaction. <a href="/emi-terms-and-conditions" target="_blank">T&C Apply</a></p>\n                                    ');var win_height=$(window).height()-128;$("#emi_dialog_content").css("height",win_height),$("#emi_dialog_content").css("overflow-y","scroll")}else{var win_height=$(window).height()-50;$("#emi_dialog_content").css("height",win_height),$("#emi_dialog_content").css("overflow-y","scroll"),$(".emi_disclaimer").css("display","none")}plans.hasOwnProperty("No_Cost_EMI")?$("#no_low_cost_btn").html('<button type="button" class="no_cost_emi_btn">No Cost EMI</button>'):plans.hasOwnProperty("Low_Cost_EMI")&&$("#no_low_cost_btn").html('<button type="button" class="low_cost_emi_btn">Low Cost EMI</button>')}},error:function(){}})}}})),$(document).on("click","#emi_btn",(function(){$("#emi_plans_dialog").modal("show")})),$(document).on("click","#emi_disclaim_close",(function(){$(".emi_disclaimer").remove();var win_height=$(window).height()-50;$("#emi_dialog_content").css("height",win_height)})),$("#prod_pin_form").submit((function(ev){ev.preventDefault();var pincode=$("#prod_rel_pincode").val(),pinregex,valid=/^[0-9]{6}$/.test(pincode);if($("#detect_location_msg").text(""),""==pincode)$("#prod_pin_msg").addClass("form-error").html("Enter your pincode");else if(valid){var pincode_api=$("#fynd_api_url").val(),phone_no="0";if(0!=localStorage.getItem("userid")&&null!=localStorage.getItem("userid")){var authtoken=localStorage.getItem("authtoken"),userid=localStorage.getItem("userid"),domain_url,get_user_api=$("#mstar_api_baseurl").val()+"entity/customer/get_details";$.ajax({url:get_user_api,data:{},headers:{userid:userid,authtoken:authtoken},method:"GET",dataType:"JSON",async:!1,success:function(resp){"success"==resp.status&&resp.result.your_details.mobile_no&&(phone_no=resp.result.your_details.mobile_no)},error:function(){}})}var lat=parseFloat(0),lon=parseFloat(0);localStorage.getItem("jio_addr_lat")&&(lat=parseFloat(localStorage.getItem("jio_addr_lat"))),localStorage.getItem("jio_addr_lon")&&(lon=parseFloat(localStorage.getItem("jio_addr_lon")));var locked_phone=!1;if(localStorage.getItem("lock_options")){var sku=$("#product_id").val(),locked_obj=JSON.parse(localStorage.getItem("lock_options"));locked_obj.product_code&&locked_obj.product_code==sku&&(locked_phone=!0)}var ajax_data={identifier:create_UUID(),to_pincode:pincode,customer_details:{phone_number:phone_no,pincode:pincode,coordinates:{lat:lat,long:lon}},articles:[{article_id:$("#alt_sku").val(),vertical:$("#vertical_code").val(),lookup_inventory:window.is_always_available,tenant_ids:window.tenant_id,merchant_id:window.merchant_id,channel_id:window.channel_id,available_at_3p_seller:window.available_at_3p_seller,available_at_1p_kirana:window.available_at_1p_kirana,available_at_rrl_fc:window.available_at_rrl_fc,available_at_rrl_store:window.available_at_rrl_store,available_at_3p_kirana:window.available_at_3p_kirana,delivery_type:window.hd_flag,locked_phone:locked_phone,transport_mode:window.mode_of_transport,package_dimension:window.package_dimension}]};$.ajax({url:pincode_api,type:"POST",dataType:"JSON",data:JSON.stringify(ajax_data),contentType:"application/json",headers:{"X-OMS-Application-ID":atob(window.fynd_app_id),"X-Application-Token":atob(window.fynd_token)},success:function(resp){if(1==resp.success){if(resp.articles[0]){var expected_del=resp.shipments[0].display_message;$("#prod_pin_form .del_txt").remove(),$("#prod_pin_msg").removeClass().addClass("form-success").html(expected_del)}}else{var message=resp.error.message;$("#prod_pin_form .del_txt").remove(),$("#prod_pin_msg").removeClass().addClass("form-error").html(message)}},error:function(xhr,status,error){var resp=xhr.responseJSON;$("#prod_pin_form .del_txt").remove(),$("#prod_pin_msg").removeClass().addClass("form-error").html("Unable to fetch delivery details")}})}else $("#prod_pin_form .del_txt").remove(),$("#prod_pin_msg").html("Invalid pincode")})),$(document).on("click",".add-on-skip",(function(){var source;"addtocart"==$("#elec_addon_dialog").attr("data-source")?$("#elec_addon_dialog").modal("hide"):localStorage.getItem("buynowdata")?window.location.href="/customer/account/login":(get_cart_details(!1),window.location.href="/checkout/review")})),$("#elec_addon_dialog").on("shown.bs.modal",(function(){$(".ext_warranty_sku,.add_on_sku").each((function(){$(this).prop("checked",!1)})),getAddonTotal()})),$(".ext_warranty_sku,.add_on_sku").change((function(){$(".ext_warranty_sku:checked").length>0||$(".add_on_sku:checked").length>0?($(".add-on-submit").prop("disabled",!1),$(".add-on-submit").removeClass("disabled")):($(".add-on-submit").prop("disabled",!0),$(".add-on-submit").addClass("disabled")),getAddonTotal()})),$(window).on("load",(function(){if("1"==window.promotion_call_status){var sku=$("#product_id").val();$.ajax({url:domain_url+"catalog/promotions/"+sku,method:"GET",data:{},headers:{pin:localStorage.getItem("nms_mgo_pincode")},dataType:"HTML",success:function(resp){if(""!=resp){var long_html=$($.parseHTML(resp)).filter("#promo_long_content").html();$("#promotion_content_holder").html(long_html)}},error:function(){}})}})),$(document).ready((function(){if(localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid"))if(localStorage.getItem("jio_wishlist_sku")){var wishlist_sku=localStorage.getItem("jio_wishlist_sku");if((wishlist_sku=wishlist_sku.split(",")).length>0){wishlist_sku=wishlist_sku.map((function(sku){return parseInt(sku)}));var sku=parseInt($("#product_id").val());-1!==wishlist_sku.indexOf(sku)?($("#wishlist_btn").addClass("wishlist_active"),$("#wishlist_btn").attr("data-action","Remove")):($("#wishlist_btn").removeClass("wishlist_active"),$("#wishlist_btn").attr("data-action","Add"))}else $("#wishlist_btn").removeClass("wishlist_active"),$("#wishlist_btn").attr("data-action","Add")}else $("#wishlist_btn").removeClass("wishlist_active"),$("#wishlist_btn").attr("data-action","Add")})),$(document).on("click","#wishlist_btn",(function(ev){if(ev.preventDefault(),localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")){var action;callWishlistApi($(this).attr("data-action"))}else{var url=new Url,path=url.path,query=url.query;query&&(path=path+"?"+query),path&&localStorage.setItem("redirectUrl",path),window.location.href="/customer/account/login"}}));